<!--联系人卡片组件-->
<view 
  class="contact-card {{highlight ? 'highlight' : ''}}" 
  bind:tap="onCardTap"
  bind:longpress="onCardLongPress"
>
  <!-- 卡片头部 -->
  <view class="card-header">
    <!-- 头像 -->
    <view 
      class="card-avatar"
      style="background-color: {{contact.avatarColor || '#667eea'}}"
    >
      <text class="card-avatar-text">{{contact.initial || '?'}}</text>
    </view>
    
    <!-- 基本信息（精简版） -->
    <view class="contact-info">
      <!-- 姓名 -->
      <view class="contact-name">
        <text class="name-text">{{contact.displayName || contact.profile_name || '未知联系人'}}</text>
      </view>
      
      <!-- 公司和职务 -->
      <view class="contact-company" wx:if="{{contact.company || contact.position}}">
        <text class="company-text">
          {{contact.company}}{{contact.company && contact.position ? ' · ' : ''}}{{contact.position}}
        </text>
      </view>
      
      <!-- 其他基本信息：电话、性别、年龄（简洁显示） -->
      <view class="contact-basic" wx:if="{{contact.phone || contact.gender || contact.age}}">
        <text class="basic-text" wx:if="{{contact.phone}}">📞 {{contact.phone}}</text>
        <text class="basic-text" wx:if="{{contact.gender && contact.age}}"> · {{contact.gender}} {{contact.age}}岁</text>
        <text class="basic-text" wx:elif="{{contact.gender}}"> · {{contact.gender}}</text>
        <text class="basic-text" wx:elif="{{contact.age}}"> · {{contact.age}}岁</text>
      </view>
    </view>
  </view>
  
  <!-- AI摘要（如果有） -->
  <view class="card-summary" wx:if="{{contact.ai_summary && showSummary}}">
    <text class="summary-text">{{contact.ai_summary}}</text>
  </view>
  
  <!-- 最后更新时间 -->
  <view class="card-footer">
    <view class="update-time" wx:if="{{contact.updated_at}}">
      <t-icon name="time" size="20rpx" color="#c8c9cc" />
      <text class="time-text">{{formatRelativeTime(contact.updated_at)}}</text>
    </view>
    
    <!-- 操作按钮 -->
    <view class="card-actions" wx:if="{{showActions}}">
      <view class="action-btn" bind:tap="onViewDetail">
        <t-icon name="user" size="20rpx" color="#1890ff" />
      </view>
      <view class="action-btn" bind:tap="onEditContact">
        <t-icon name="edit" size="20rpx" color="#52c41a" />
      </view>
      <view class="action-btn" bind:tap="onDeleteContact">
        <t-icon name="delete" size="20rpx" color="#ff4d4f" />
      </view>
    </view>
  </view>
</view>