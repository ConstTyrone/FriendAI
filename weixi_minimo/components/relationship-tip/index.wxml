<!--关系发现提示组件-->
<view class="relationship-tip {{visible ? 'visible' : ''}} {{themeClass}}" wx:if="{{relationships.length > 0}}">
  <!-- 提示卡片 -->
  <view class="tip-card" bind:tap="onViewDetails">
    <!-- 图标和主要信息 -->
    <view class="tip-header">
      <view class="tip-icon">
        <text class="icon-text">🔗</text>
      </view>
      <view class="tip-content">
        <text class="tip-title">发现 {{relationships.length}} 个关系</text>
        <text class="tip-subtitle">{{formatRelationshipTypes(relationships)}}</text>
      </view>
      <view class="tip-arrow">
        <text class="arrow-text">›</text>
      </view>
    </view>
    
    <!-- 关系预览（最多显示3个） -->
    <view class="relationships-preview" wx:if="{{showPreview}}">
      <view 
        wx:for="{{previewRelationships}}" 
        wx:key="id" 
        class="relationship-preview-item"
      >
        <view class="preview-avatar">
          <text class="preview-avatar-text">{{item.otherProfileInitial}}</text>
        </view>
        <view class="preview-info">
          <text class="preview-name">{{item.otherProfileName}}</text>
          <text class="preview-relation">{{formatRelationshipType(item.relationship_type)}}</text>
        </view>
        <view class="preview-confidence">
          <text class="confidence-text">{{Math.round(item.confidence_score * 100)}}%</text>
        </view>
      </view>
    </view>
    
    <!-- 快速操作按钮 -->
    <view class="tip-actions" wx:if="{{showActions}}">
      <view class="action-btn primary" bind:tap="onConfirmAll" catch:tap="stopPropagation">
        <text class="action-text">全部确认</text>
      </view>
      <view class="action-btn secondary" bind:tap="onIgnoreAll" catch:tap="stopPropagation">
        <text class="action-text">全部忽略</text>
      </view>
    </view>
  </view>
  
  <!-- 关闭按钮 -->
  <view class="close-btn" bind:tap="onClose" catch:tap="stopPropagation">
    <text class="close-text">×</text>
  </view>
</view>