<!-- å¯¼å…¥è¿›åº¦æ˜¾ç¤ºç»„ä»¶ -->
<view class="import-progress-overlay {{visible ? 'show' : ''}}" wx:if="{{visible}}" bind:tap="onMaskTap">
  <view class="import-progress-container" catch:tap>
    <!-- è¿›åº¦åœ†ç¯ -->
    <view class="progress-circle-container">
      <view class="progress-circle">
        <!-- èƒŒæ™¯åœ†ç¯ -->
        <view class="progress-ring-bg"></view>
        
        <!-- è¿›åº¦åœ†ç¯ -->
        <view class="progress-ring" style="--progress: {{percentage}}%;"></view>
        
        <!-- ä¸­å¿ƒæ˜¾ç¤ºåŒºåŸŸ -->
        <view class="progress-center">
          <view class="progress-percentage">{{percentage}}%</view>
          <view class="progress-icon">
            <text wx:if="{{currentPhase === 'starting'}}">ğŸš€</text>
            <text wx:elif="{{currentPhase === 'importing'}}">ğŸ“¥</text>
            <text wx:elif="{{currentPhase === 'importing_contact'}}">âš¡</text>
            <text wx:elif="{{currentPhase === 'completed'}}">âœ…</text>
            <text wx:elif="{{currentPhase === 'error'}}">âŒ</text>
            <text wx:else>ğŸ”„</text>
          </view>
        </view>
      </view>
    </view>

    <!-- çŠ¶æ€ä¿¡æ¯ -->
    <view class="progress-info">
      <view class="status-text">{{statusText}}</view>
      <view class="detail-text" wx:if="{{detailText}}">{{detailText}}</view>
    </view>

    <!-- ç»Ÿè®¡ä¿¡æ¯ (å®ŒæˆçŠ¶æ€ä¸‹æ˜¾ç¤º) -->
    <view class="progress-stats" wx:if="{{showStats}}">
      <view class="stats-item">
        <view class="stats-label">æˆåŠŸç‡</view>
        <view class="stats-value {{successRate >= 80 ? 'success' : successRate >= 50 ? 'warning' : 'error'}}">
          {{successRate}}%
        </view>
      </view>
    </view>

    <!-- è„‰å†²åŠ¨ç”»æ•ˆæœ -->
    <view class="pulse-animation" wx:if="{{showAnimation && currentPhase !== 'completed' && currentPhase !== 'error'}}"></view>

    <!-- å…³é—­æŒ‰é’® (å®Œæˆæˆ–é”™è¯¯çŠ¶æ€ä¸‹æ˜¾ç¤º) -->
    <view class="close-button" wx:if="{{currentPhase === 'completed' || currentPhase === 'error'}}" bind:tap="onClose">
      <text class="close-icon">Ã—</text>
    </view>
  </view>
</view>