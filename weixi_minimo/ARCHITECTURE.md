# ç¤¾äº¤å…³ç³»ç»´æŠ¤å°ç¨‹åº - æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åŸºäºå¾®ä¿¡å°ç¨‹åºå¼€å‘çš„"è½»é‡ã€ç§å¯†ã€AI-first"ç¤¾äº¤å…³ç³»ç»´æŠ¤å·¥å…·ï¼Œé€šè¿‡ã€Œè”ç³»äººåˆ—è¡¨ + AI è¯­ä¹‰æœç´¢ã€åŒç•Œé¢ï¼Œè®©ç”¨æˆ·éšæ—¶è®°å½•ã€å¿«é€Ÿå¬å›ã€æ·±åº¦è¿æ¥ç¤¾äº¤èµ„äº§ã€‚

## ğŸ—ï¸ æ•´ä½“æ¶æ„

### æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: å¾®ä¿¡å°ç¨‹åºåŸç”Ÿå¼€å‘
- **UIç»„ä»¶åº“**: TDesign å°ç¨‹åºç»„ä»¶åº“
- **åç«¯API**: RESTful API (http://localhost:3001)
- **è®¤è¯æ–¹å¼**: å¾®ä¿¡ç”¨æˆ·ID + Token
- **æ•°æ®å­˜å‚¨**: æœ¬åœ°ç¼“å­˜ + è¿œç¨‹æ•°æ®åº“

### æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¾®ä¿¡å°ç¨‹åºå±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pages          â”‚  Components      â”‚  Utils               â”‚
â”‚  â”œâ”€ home        â”‚  â”œâ”€ contact-card â”‚  â”œâ”€ api-client       â”‚
â”‚  â”œâ”€ contact-listâ”‚  â”œâ”€ search-bar   â”‚  â”œâ”€ auth-manager     â”‚
â”‚  â”œâ”€ ai-search   â”‚  â”œâ”€ contact-form â”‚  â”œâ”€ data-manager     â”‚
â”‚  â”œâ”€ contact-detail â”œâ”€ ai-chips    â”‚  â”œâ”€ storage-utils    â”‚
â”‚  â””â”€ settings    â”‚  â””â”€ loading      â”‚  â””â”€ format-utils     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æœåŠ¡å±‚                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  API Service    â”‚  Cache Service   â”‚  Auth Service        â”‚
â”‚  â”œâ”€ ç”¨æˆ·ç”»åƒAPI â”‚  â”œâ”€ æœ¬åœ°ç¼“å­˜     â”‚  â”œâ”€ å¾®ä¿¡ç™»å½•         â”‚
â”‚  â”œâ”€ æœç´¢API     â”‚  â”œâ”€ å›¾ç‰‡ç¼“å­˜     â”‚  â”œâ”€ Tokenç®¡ç†        â”‚
â”‚  â”œâ”€ ç»Ÿè®¡API     â”‚  â””â”€ æœç´¢å†å²     â”‚  â””â”€ æƒé™æ§åˆ¶         â”‚
â”‚  â””â”€ å®æ—¶æ›´æ–°API â”‚                  â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åç«¯APIæœåŠ¡                              â”‚
â”‚  RESTful API + ç”¨æˆ·ç”»åƒæ•°æ®åº“ + AIåˆ†ææœåŠ¡                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“± é¡µé¢ç»“æ„è®¾è®¡

### é¡µé¢è·¯ç”±
```
pages/
â”œâ”€â”€ home/                    # é¦–é¡µï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ home.js
â”‚   â”œâ”€â”€ home.json
â”‚   â”œâ”€â”€ home.wxml
â”‚   â””â”€â”€ home.wxss
â”œâ”€â”€ contact-list/            # è”ç³»äººåˆ—è¡¨é¡µ
â”‚   â”œâ”€â”€ contact-list.js
â”‚   â”œâ”€â”€ contact-list.json
â”‚   â”œâ”€â”€ contact-list.wxml
â”‚   â””â”€â”€ contact-list.wxss
â”œâ”€â”€ ai-search/               # AIè¯­ä¹‰æœç´¢é¡µ
â”‚   â”œâ”€â”€ ai-search.js
â”‚   â”œâ”€â”€ ai-search.json
â”‚   â”œâ”€â”€ ai-search.wxml
â”‚   â””â”€â”€ ai-search.wxss
â”œâ”€â”€ contact-detail/          # è”ç³»äººè¯¦æƒ…é¡µ
â”‚   â”œâ”€â”€ contact-detail.js
â”‚   â”œâ”€â”€ contact-detail.json
â”‚   â”œâ”€â”€ contact-detail.wxml
â”‚   â””â”€â”€ contact-detail.wxss
â”œâ”€â”€ contact-form/            # æ·»åŠ /ç¼–è¾‘è”ç³»äººé¡µ
â”‚   â”œâ”€â”€ contact-form.js
â”‚   â”œâ”€â”€ contact-form.json
â”‚   â”œâ”€â”€ contact-form.wxml
â”‚   â””â”€â”€ contact-form.wxss
â””â”€â”€ settings/                # è®¾ç½®é¡µ
    â”œâ”€â”€ settings.js
    â”œâ”€â”€ settings.json
    â”œâ”€â”€ settings.wxml
    â””â”€â”€ settings.wxss
```

### TabBaré…ç½®
```json
{
  "tabBar": {
    "color": "#999999",
    "selectedColor": "#5a67d8",
    "backgroundColor": "#ffffff",
    "borderStyle": "black",
    "list": [
      {
        "pagePath": "pages/contact-list/contact-list",
        "text": "è”ç³»äºº",
        "iconPath": "assets/icons/contact.png",
        "selectedIconPath": "assets/icons/contact-active.png"
      },
      {
        "pagePath": "pages/ai-search/ai-search",
        "text": "AIæœç´¢",
        "iconPath": "assets/icons/search.png",
        "selectedIconPath": "assets/icons/search-active.png"
      }
    ]
  }
}
```

## ğŸ§© ç»„ä»¶æ¶æ„

### å…¬å…±ç»„ä»¶
```
components/
â”œâ”€â”€ contact-card/            # è”ç³»äººå¡ç‰‡ç»„ä»¶
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ index.json
â”‚   â”œâ”€â”€ index.wxml
â”‚   â””â”€â”€ index.wxss
â”œâ”€â”€ search-bar/              # æœç´¢æ ç»„ä»¶
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ index.json
â”‚   â”œâ”€â”€ index.wxml
â”‚   â””â”€â”€ index.wxss
â”œâ”€â”€ contact-form/            # è”ç³»äººè¡¨å•ç»„ä»¶
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ index.json
â”‚   â”œâ”€â”€ index.wxml
â”‚   â””â”€â”€ index.wxss
â”œâ”€â”€ ai-chips/                # AIå»ºè®®è¯ç»„ä»¶
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ index.json
â”‚   â”œâ”€â”€ index.wxml
â”‚   â””â”€â”€ index.wxss
â”œâ”€â”€ loading/                 # åŠ è½½åŠ¨ç”»ç»„ä»¶
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ index.json
â”‚   â”œâ”€â”€ index.wxml
â”‚   â””â”€â”€ index.wxss
â””â”€â”€ empty-state/             # ç©ºçŠ¶æ€ç»„ä»¶
    â”œâ”€â”€ index.js
    â”œâ”€â”€ index.json
    â”œâ”€â”€ index.wxml
    â””â”€â”€ index.wxss
```

### ç»„ä»¶è®¾è®¡åŸåˆ™
- **å•ä¸€èŒè´£**: æ¯ä¸ªç»„ä»¶ä¸“æ³¨ä¸€ä¸ªåŠŸèƒ½
- **å¯å¤ç”¨æ€§**: é€šè¿‡propså’Œeventså®ç°çµæ´»é…ç½®
- **æ€§èƒ½ä¼˜åŒ–**: åˆç†ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå’Œæ•°æ®æ›´æ–°
- **UIä¸€è‡´æ€§**: éµå¾ªTDesignè®¾è®¡è§„èŒƒ

## ğŸ”§ å·¥å…·ç±»è®¾è®¡

### æ ¸å¿ƒå·¥å…·ç±»
```
utils/
â”œâ”€â”€ api-client.js            # APIå®¢æˆ·ç«¯å°è£…
â”œâ”€â”€ auth-manager.js          # è®¤è¯ç®¡ç†
â”œâ”€â”€ data-manager.js          # æ•°æ®ç®¡ç†
â”œâ”€â”€ storage-utils.js         # æœ¬åœ°å­˜å‚¨å·¥å…·
â”œâ”€â”€ format-utils.js          # æ•°æ®æ ¼å¼åŒ–å·¥å…·
â”œâ”€â”€ constants.js             # å¸¸é‡å®šä¹‰
â””â”€â”€ validator.js             # æ•°æ®éªŒè¯å·¥å…·
```

### APIå®¢æˆ·ç«¯è®¾è®¡
```javascript
class APIClient {
  constructor() {
    this.baseURL = 'http://localhost:3001';
    this.token = null;
  }
  
  // é€šç”¨è¯·æ±‚æ–¹æ³•
  async request(endpoint, options = {}) {
    // è¯·æ±‚æ‹¦æˆªã€é”™è¯¯å¤„ç†ã€é‡è¯•é€»è¾‘
  }
  
  // ç”¨æˆ·è®¤è¯
  async login(wechatUserId) {}
  
  // ç”»åƒç®¡ç†
  async getProfiles(params) {}
  async getProfileDetail(id) {}
  async deleteProfile(id) {}
  
  // æœç´¢åŠŸèƒ½
  async searchProfiles(query) {}
  async getSearchSuggestions() {}
  
  // ç»Ÿè®¡ä¿¡æ¯
  async getStats() {}
}
```

## ğŸ“Š çŠ¶æ€ç®¡ç†è®¾è®¡

### å…¨å±€çŠ¶æ€
```javascript
const globalData = {
  // ç”¨æˆ·ä¿¡æ¯
  userInfo: {
    wechatUserId: '',
    token: '',
    stats: {}
  },
  
  // è”ç³»äººæ•°æ®
  contacts: {
    list: [],
    total: 0,
    currentPage: 1,
    loading: false
  },
  
  // æœç´¢çŠ¶æ€
  search: {
    query: '',
    results: [],
    suggestions: [],
    history: []
  },
  
  // åº”ç”¨è®¾ç½®
  settings: {
    theme: 'light',
    autoSync: true,
    notifications: true
  }
};
```

### æ•°æ®æµè®¾è®¡
```
ç”¨æˆ·æ“ä½œ â†’ é¡µé¢äº‹ä»¶ â†’ APIè°ƒç”¨ â†’ æ•°æ®æ›´æ–° â†’ ç•Œé¢åˆ·æ–°
    â†“
æœ¬åœ°ç¼“å­˜ â† æ•°æ®é¢„å¤„ç† â† APIå“åº” â† åç«¯å¤„ç†
```

## ğŸ” è®¤è¯ä¸å®‰å…¨

### è®¤è¯æµç¨‹
1. å¾®ä¿¡å°ç¨‹åºç™»å½•è·å–ç”¨æˆ·ä¿¡æ¯
2. ä½¿ç”¨å¾®ä¿¡ç”¨æˆ·IDè°ƒç”¨åç«¯ç™»å½•æ¥å£
3. è·å–JWT Tokenå¹¶å­˜å‚¨åˆ°æœ¬åœ°
4. åç»­è¯·æ±‚æºå¸¦Tokenè¿›è¡Œè®¤è¯

### å®‰å…¨æªæ–½
- **æ•°æ®åŠ å¯†**: æ•æ„Ÿæ•°æ®æœ¬åœ°åŠ å¯†å­˜å‚¨
- **Tokenç®¡ç†**: è‡ªåŠ¨åˆ·æ–°å’Œå¤±æ•ˆå¤„ç†
- **æƒé™æ§åˆ¶**: åŸºäºç”¨æˆ·è§’è‰²çš„æ•°æ®è®¿é—®
- **è¾“å…¥éªŒè¯**: å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åŒé‡éªŒè¯
- **HTTPSé€šä¿¡**: æ‰€æœ‰APIè¯·æ±‚ä½¿ç”¨HTTPS

## ğŸš€ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### æ•°æ®ä¼˜åŒ–
- **åˆ†é¡µåŠ è½½**: è”ç³»äººåˆ—è¡¨åˆ†é¡µæ˜¾ç¤º
- **æ‡’åŠ è½½**: å›¾ç‰‡å’Œè¯¦ç»†ä¿¡æ¯æŒ‰éœ€åŠ è½½
- **æœ¬åœ°ç¼“å­˜**: å¸¸ç”¨æ•°æ®æœ¬åœ°ç¼“å­˜
- **é¢„åŠ è½½**: é¢„æµ‹ç”¨æˆ·è¡Œä¸ºè¿›è¡Œæ•°æ®é¢„åŠ è½½

### æ¸²æŸ“ä¼˜åŒ–
- **è™šæ‹Ÿåˆ—è¡¨**: å¤§é‡æ•°æ®ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
- **å›¾ç‰‡ä¼˜åŒ–**: å›¾ç‰‡å‹ç¼©å’ŒCDNåŠ é€Ÿ
- **ä»£ç åˆ†å‰²**: æŒ‰é¡µé¢æ‹†åˆ†ä»£ç åŒ…
- **èµ„æºå‹ç¼©**: é™æ€èµ„æºå‹ç¼©å’Œåˆå¹¶

### ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- **éª¨æ¶å±**: æ•°æ®åŠ è½½æ—¶æ˜¾ç¤ºéª¨æ¶å±
- **ç¼“å­˜ä¼˜å…ˆ**: ä¼˜å…ˆæ˜¾ç¤ºç¼“å­˜æ•°æ®
- **ç¦»çº¿æ”¯æŒ**: åŸºç¡€åŠŸèƒ½ç¦»çº¿å¯ç”¨
- **é”™è¯¯æ¢å¤**: å‹å¥½çš„é”™è¯¯æç¤ºå’Œæ¢å¤

## ğŸ“± å“åº”å¼è®¾è®¡

### å±å¹•é€‚é…
- ä½¿ç”¨rpxå•ä½è¿›è¡Œå±å¹•é€‚é…
- æ”¯æŒä¸åŒå°ºå¯¸è®¾å¤‡çš„å¸ƒå±€è°ƒæ•´
- è€ƒè™‘æ¨ªå±å’Œç«–å±åˆ‡æ¢

### äº¤äº’ä¼˜åŒ–
- è§¦æ‘¸æ“ä½œçš„åé¦ˆæ•ˆæœ
- åˆç†çš„ç‚¹å‡»åŒºåŸŸå¤§å°
- æ‰‹åŠ¿æ“ä½œæ”¯æŒï¼ˆæ»‘åŠ¨åˆ é™¤ç­‰ï¼‰

## ğŸ”„ æ•°æ®åŒæ­¥

### å®æ—¶æ›´æ–°æœºåˆ¶
- **è½®è¯¢æ£€æŸ¥**: å®šæœŸæ£€æŸ¥æ•°æ®æ›´æ–°
- **æœ¬åœ°ä¼˜å…ˆ**: æœ¬åœ°æ“ä½œç«‹å³å“åº”
- **å†²çªè§£å†³**: æ•°æ®å†²çªçš„è§£å†³ç­–ç•¥
- **ç¦»çº¿é˜Ÿåˆ—**: ç¦»çº¿æ“ä½œçš„é˜Ÿåˆ—ç®¡ç†

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### æµ‹è¯•ç±»å‹
- **å•å…ƒæµ‹è¯•**: å·¥å…·å‡½æ•°å’Œç»„ä»¶æµ‹è¯•
- **é›†æˆæµ‹è¯•**: APIé›†æˆå’Œæ•°æ®æµæµ‹è¯•
- **ç«¯åˆ°ç«¯æµ‹è¯•**: å®Œæ•´ç”¨æˆ·æµç¨‹æµ‹è¯•
- **æ€§èƒ½æµ‹è¯•**: é¡µé¢åŠ è½½å’Œå“åº”æ—¶é—´æµ‹è¯•

### æµ‹è¯•å·¥å…·
- å¾®ä¿¡å¼€å‘è€…å·¥å…·å†…ç½®æµ‹è¯•
- è‡ªå®šä¹‰æµ‹è¯•è„šæœ¬
- çœŸæœºæµ‹è¯•éªŒè¯

## ğŸ“‹ å¼€å‘è®¡åˆ’

### å¼€å‘é˜¶æ®µ
1. **Phase 1**: åŸºç¡€æ¶æ„å’Œæ ¸å¿ƒé¡µé¢
2. **Phase 2**: APIé›†æˆå’Œæ•°æ®ç®¡ç†
3. **Phase 3**: AIæœç´¢å’Œé«˜çº§åŠŸèƒ½
4. **Phase 4**: æ€§èƒ½ä¼˜åŒ–å’Œç”¨æˆ·ä½“éªŒ
5. **Phase 5**: æµ‹è¯•å’Œå‘å¸ƒå‡†å¤‡

### é‡Œç¨‹ç¢‘
- [ ] å®ŒæˆåŸºç¡€æ¶æ„æ­å»º
- [ ] å®ç°è”ç³»äººåˆ—è¡¨åŠŸèƒ½
- [ ] å®ç°AIæœç´¢åŠŸèƒ½
- [ ] å®Œæˆç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œæµ‹è¯•
- [ ] å‘å¸ƒç¬¬ä¸€ä¸ªç‰ˆæœ¬